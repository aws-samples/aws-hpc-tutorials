<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Simulations with AWS Batch on AWS HPC Workshops</title>
    <link>https://www.hpcworkshops.com/06-batch-automation.html</link>
    <description>Recent content in Simulations with AWS Batch on AWS HPC Workshops</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 08 Oct 2021 09:05:54 +0000</lastBuildDate><atom:link href="https://www.hpcworkshops.com/06-batch-automation/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>a. Create S3 bucket</title>
      <link>https://www.hpcworkshops.com/06-batch-automation/01-create-s3.html</link>
      <pubDate>Wed, 18 Sep 2019 10:46:30 -0400</pubDate>
      
      <guid>https://www.hpcworkshops.com/06-batch-automation/01-create-s3.html</guid>
      <description>In this step, we will create a S3 bucket to store the results of your Nextflow simulations
  In the AWS Management Console search bar, type and select Cloud9.
  Choose open IDE for the Cloud9 instance set up previously. It may take a few moments for the IDE to open. AWS Cloud9 stops and restarts the instance so that you do not pay compute charges when no longer using the Cloud9 IDE.</description>
    </item>
    
    <item>
      <title>b. Create IAM Role</title>
      <link>https://www.hpcworkshops.com/06-batch-automation/02-create-iam-role.html</link>
      <pubDate>Wed, 18 Sep 2019 10:46:30 -0400</pubDate>
      
      <guid>https://www.hpcworkshops.com/06-batch-automation/02-create-iam-role.html</guid>
      <description>In this step, we will create an IAM role for Amazon ECS Task Execution.
AWS Batch uses Amazon ECS to create the compute environment. The task execution role grants the Amazon ECS container permission to make AWS API calls on your behalf.
Run the following commands in your Cloud9 terminal to create a task execution IAM role.
 Create a file named ecs-tasks-trust-policy.json that contains the trust policy to use for the IAM role as below:  cat &amp;gt; ecs-tasks-trust-policy.</description>
    </item>
    
    <item>
      <title>c. Set up Batch Resources</title>
      <link>https://www.hpcworkshops.com/06-batch-automation/03-setup-batch-ce-jq.html</link>
      <pubDate>Wed, 18 Sep 2019 10:46:30 -0400</pubDate>
      
      <guid>https://www.hpcworkshops.com/06-batch-automation/03-setup-batch-ce-jq.html</guid>
      <description>In this step, you set up an AWS Batch Compute Environment and Job Queue via infrastructure as code using AWS Cloudformation.
Compute environments can be seen as computational clusters. They can consist of one or several instance kinds or just the number of cores you want in the environment. For more information on the compute environments, see Compute Environments.
The Job Queue is where you submit your jobs. These jobs are dispatched to the compute environment(s) of your choosing by order of priority.</description>
    </item>
    
    <item>
      <title>d. Set up a Job Definition</title>
      <link>https://www.hpcworkshops.com/06-batch-automation/04-setup-batch-job-definition.html</link>
      <pubDate>Wed, 18 Sep 2019 10:46:30 -0400</pubDate>
      
      <guid>https://www.hpcworkshops.com/06-batch-automation/04-setup-batch-job-definition.html</guid>
      <description>In this step, you set up a template used for your jobs, known as a job definition. A job definition is not required, but a good practice to use so that you can version how your jobs are launched. For more information about job definitions, see Job Definitions.
Run the following commands on your Cloud9 terminal
 Copy the Cloudformation template which will be used to create the AWS Batch Job Definition.</description>
    </item>
    
    <item>
      <title>e. Describe Your Environment</title>
      <link>https://www.hpcworkshops.com/06-batch-automation/05-describe-batch-env.html</link>
      <pubDate>Wed, 18 Sep 2019 10:46:30 -0400</pubDate>
      
      <guid>https://www.hpcworkshops.com/06-batch-automation/05-describe-batch-env.html</guid>
      <description>Now that you have configured AWS Batch, take a look at your environment by using the following commands
aws batch describe-compute-environments --region $AWS_REGION aws batch describe-job-queues --region $AWS_REGION aws batch describe-job-definitions --region $AWS_REGION You will see that the JSONs provided as output contain the parameters you chose for the compute environment, job queue, and job definition. Keep in mind that the steps you completed previously using the AWS CloudFormation can also be completed with the AWS CLI, AWS SDK, or AWS Console.</description>
    </item>
    
    <item>
      <title>f. Run a Single Job</title>
      <link>https://www.hpcworkshops.com/06-batch-automation/06-run-job.html</link>
      <pubDate>Wed, 18 Sep 2019 10:46:30 -0400</pubDate>
      
      <guid>https://www.hpcworkshops.com/06-batch-automation/06-run-job.html</guid>
      <description>In this step, you launch a job using the AWS CLI. (Note that you could also use the AWS Management Console or the AWS SDK to submit jobs, but this workshop does not cover those options.)
Run the following command on Cloud9 terminal to run a single job..
aws batch submit-job --job-name nextflow-job --job-queue nextflow-jq --job-definition nextflow-demo --region $AWS_REGION  If the job does not run, double-check that the job queue name and job definition are correct.</description>
    </item>
    
    <item>
      <title>g. Monitor your jobs</title>
      <link>https://www.hpcworkshops.com/06-batch-automation/07-monitor-job.html</link>
      <pubDate>Wed, 18 Sep 2019 10:46:30 -0400</pubDate>
      
      <guid>https://www.hpcworkshops.com/06-batch-automation/07-monitor-job.html</guid>
      <description>In this step, you will monitor your submitted jobs on the Batch console
  Go to the Batch console and click on the Dashboard on the left hand side   The Dashboard gives you an overview of your Batch environment (i.e. Compute Environment, Job Queues and status of the submitted Jobs). The Job queue overview shows the different Job States that a batch job runs through during its execution cycle.</description>
    </item>
    
    <item>
      <title>h. Cleanup</title>
      <link>https://www.hpcworkshops.com/06-batch-automation/08-cleanup.html</link>
      <pubDate>Wed, 18 Sep 2019 10:46:30 -0400</pubDate>
      
      <guid>https://www.hpcworkshops.com/06-batch-automation/08-cleanup.html</guid>
      <description>Congratulations! You have completed the container orchestration lab and learnt how to deploy your containers using AWS Batch.
In Lab 3 you build and pushed your container to ECR in an automated way using CICD pipeline via CodeCommit and CodeBuild. In Lab 4 you deployed the same container using Batch.
In this section, you will clean all the resources that you created in Lab 3 and Lab 4.
Clean Up After you complete the workshop, clean up your environment by following these steps:</description>
    </item>
    
  </channel>
</rss>
